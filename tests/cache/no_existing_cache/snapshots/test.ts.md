# Snapshot report for `tests/cache/no_existing_cache/test.ts`

The actual snapshot is saved in `test.ts.snap`.

Generated by [AVA](https://avajs.dev).

## when step size is 1, it should create the correct cache folders in the format <from?>_<to>_1

> Snapshot 1

    [
      'tests/cache/no_existing_cache/migrations/.cache/_2022-12-08T19:45:58.674Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.674Z_2022-12-08T19:45:58.685Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.685Z_2022-12-08T19:45:58.691Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.691Z_2022-12-08T19:45:58.699Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.699Z_2022-12-08T19:45:58.706Z_1',
    ]

> Snapshot 2

    [
      'Let([{"var0": Select(["ref"], CreateCollection({"name": "test"}))}, {"var1": Select(["ref"], CreateIndex({"name": "test_index"}))}], Map(["2022-12-08T19:45:58.674Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateRole({"name": "test_role", "privileges": {"resource": Index("test_index"), "actions": {"read": true}}}))}], Map(["2022-12-08T19:45:58.685Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], Delete(Index("test_index")))}, {"var1": Select(["ref"], Update(Role("test_role"), {"privileges": {}, "data": null, "membership": null}))}], Map(["2022-12-08T19:45:58.691Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateIndex({"name": "test_index"}))}, {"var1": Select(["ref"], Update(Role("test_role"), {"privileges": {"resource": Var("var0"), "actions": {"read": true}}, "data": null, "membership": null}))}], Map(["2022-12-08T19:45:58.699Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateRole({"name": "test_role_2", "privileges": {"resource": Index("test_index"), "actions": {"read": true}}}))}], Map(["2022-12-08T19:45:58.706Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
    ]

## when step size is 1, it should create the correct folder and query

> Snapshot 1

    [
      'tests/cache/no_existing_cache/migrations/.cache/_2022-12-08T19:45:58.674Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.674Z_2022-12-08T19:45:58.685Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.685Z_2022-12-08T19:45:58.691Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.691Z_2022-12-08T19:45:58.699Z_1',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.699Z_2022-12-08T19:45:58.706Z_1',
    ]

> Snapshot 2

    [
      'Let([{"var0": Select(["ref"], CreateCollection({"name": "test"}))}, {"var1": Select(["ref"], CreateIndex({"name": "test_index"}))}], Map(["2022-12-08T19:45:58.674Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateRole({"name": "test_role", "privileges": {"resource": Index("test_index"), "actions": {"read": true}}}))}], Map(["2022-12-08T19:45:58.685Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], Delete(Index("test_index")))}, {"var1": Select(["ref"], Update(Role("test_role"), {"privileges": {}, "data": null, "membership": null}))}], Map(["2022-12-08T19:45:58.691Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateIndex({"name": "test_index"}))}, {"var1": Select(["ref"], Update(Role("test_role"), {"privileges": {"resource": Var("var0"), "actions": {"read": true}}, "data": null, "membership": null}))}], Map(["2022-12-08T19:45:58.699Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateRole({"name": "test_role_2", "privileges": {"resource": Index("test_index"), "actions": {"read": true}}}))}], Map(["2022-12-08T19:45:58.706Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
    ]

## when step size is more than 1, it should create the correct folder and query

> Snapshot 1

    [
      'tests/cache/no_existing_cache/migrations/.cache/_2022-12-08T19:45:58.691Z_3',
      'tests/cache/no_existing_cache/migrations/.cache/2022-12-08T19:45:58.691Z_2022-12-08T19:45:58.706Z_3',
    ]

> Snapshot 2

    [
      'Let([{"var0": Select(["ref"], CreateRole({"privileges": {}, "data": null, "membership": null, "name": "test_role"}))}, {"var1": Select(["ref"], CreateCollection({"name": "test"}))}], Map(["2022-12-08T19:45:58.674Z", "2022-12-08T19:45:58.685Z", "2022-12-08T19:45:58.691Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
      'Let([{"var0": Select(["ref"], CreateIndex({"name": "test_index"}))}, {"var1": Select(["ref"], CreateRole({"name": "test_role_2", "privileges": {"resource": Var("var0"), "actions": {"read": true}}}))}, {"var2": Select(["ref"], Update(Role("test_role"), {"privileges": {"resource": Var("var0"), "actions": {"read": true}}, "data": null, "membership": null}))}], Map(["2022-12-08T19:45:58.699Z", "2022-12-08T19:45:58.706Z"], Lambda("migration", Create(Collection("migrations"), {"data": {"migration": Var("migration")}}))))',
    ]

## when step size is 1, it should create the correct folder and query

> Snapshot 3

    [
      HashedFolder {
        children: [
          HashedFolder {
            children: [
              HashedFile {
                hash: 'ZrFaSAyoKILO+BgCeC0m9AMus8s=',
                name: 'create-collection-test.fql',
              },
              HashedFile {
                hash: 'ZSNiGcJTYDZnSmAGqmchkBJIQ3s=',
                name: 'create-index-test_index.fql',
              },
            ],
            hash: 'w7GdevE99qCM69My3RgHsDxfDKc=',
            name: '2022-12-08T19_45_58.674Z',
          },
        ],
        hash: '5w1MNygBiL6hZ3Av1yDKPmIZjOM=',
        name: 'migrations',
      },
      HashedFolder {
        children: [
          HashedFolder {
            children: [
              HashedFile {
                hash: 'XpCXjcXUQCSEpprg9OMzpyEpk+c=',
                name: 'create-role-test_role.fql',
              },
            ],
            hash: 'ifSFYu5xUtTpVw8zqt7bqxKphYo=',
            name: '2022-12-08T19_45_58.685Z',
          },
        ],
        hash: 'pKQTkm2HQtgEypmHv8VFD070/Wo=',
        name: 'migrations',
      },
      HashedFolder {
        children: [
          HashedFolder {
            children: [
              HashedFile {
                hash: 'a9szR8He9SsWMCqKuR2nU7lGjnU=',
                name: 'delete-index-test_index.fql',
              },
              HashedFile {
                hash: 'xS4IMZaniLgCuBhf7tBkX/cY7l8=',
                name: 'update-role-test_role.fql',
              },
            ],
            hash: 'VJwnaV5txaH+MPeTbTEm6HlSa0Q=',
            name: '2022-12-08T19_45_58.691Z',
          },
        ],
        hash: 'C0F6W5RJjEEPZGim5nHfo0Kgx4Y=',
        name: 'migrations',
      },
      HashedFolder {
        children: [
          HashedFolder {
            children: [
              HashedFile {
                hash: 'ZSNiGcJTYDZnSmAGqmchkBJIQ3s=',
                name: 'create-index-test_index.fql',
              },
              HashedFile {
                hash: 'gZ93MTCOLD4V4sSrYDQaf7LyYX0=',
                name: 'update-role-test_role.fql',
              },
            ],
            hash: '9TOLBwOjUE4tRmyaQTlo11029k0=',
            name: '2022-12-08T19_45_58.699Z',
          },
        ],
        hash: 'leSL2vPVG9ZvuZZ0RsP1lHLW7Yc=',
        name: 'migrations',
      },
      HashedFolder {
        children: [
          HashedFolder {
            children: [
              HashedFile {
                hash: 'w+O7uIPxYkNLef4TDB9DQzAjX+I=',
                name: 'create-role-test_role_2.fql',
              },
            ],
            hash: '891A+HycHLWbkA51f3oekLX0sC8=',
            name: '2022-12-08T19_45_58.706Z',
          },
        ],
        hash: '/BK9YVVA3zal1ehlA8oTVOG3s9k=',
        name: 'migrations',
      },
    ]
